# 伪元素,**伪类**

伪类用于当已有元素处于的某个状态时，为其添加对应的样式，这个状态是根据用户行为而动态变化的。比如说，当用户悬停在指定的元素时，我们可以通过:hover来描述这个元素的状态。虽然它和普通的css类相似，可以为已有的元素添加样式，但是它只有处于dom树无法描述的状态下才能为元素添加样式，所以将其称为伪类。

伪元素用于创建一些不在文档树中的元素，并为其添加样式。比如说，我们可以通过:before来在一个元素前增加一些文本，并为这些文本添加样式。虽然用户可以看到这些文本，但是这些文本实际上不在文档树中。

## **伪类与伪元素的区别**

类的操作对象是文档树中已有的元素，而伪元素则创建了一个文档数外的元素。因此，伪类与伪元素的区别在于：有没有创建一个文档树之外的元素

## **伪元素是使用单冒号还是双冒号**

CSS3规范中的要求使用双冒号(::)表示伪元素，以此来区分伪元素和伪类，比如::before和::after等伪元素使用双冒号(::)，:hover和:active等伪类使用单冒号(:)。除了一些低于IE8版本的浏览器外，大部分浏览器都支持伪元素的双冒号(::)表示方法。

然而，除了少部分伪元素，如::backdrop必须使用双冒号，大部分伪元素都支持单冒号和双冒号的写法，比如::after，写成:after也可以正确运行。

大概的意思就是：虽然CSS3标准要求伪元素使用双冒号的写法，但也依然支持单冒号的写法。为了向后兼容，我们建议你在目前还是使用单冒号的写法。

实际上，伪元素使用单冒号还是双冒号很难说得清谁对谁错，你可以按照个人的喜好来选择某一种写法。

## **伪类与伪元素的具体用法**

![](/home/xsh/桌面/markdown/imgs/伪类.png)



![](/home/xsh/桌面/markdown/imgs/伪元素.png)

### **伪类**

#### **状态**

由于状态伪类的用法大家都十分熟悉，这里就不用例子说明了。

##### **1 :link(选择未访问)**

选择未访问的链接

##### **2 :visited(选择已访问)**

选择已访问的链接

##### **3 :hover**(指针上浮)

选择鼠标指针浮动在其上的元素

##### **4 :active(选择活动链接)**

选择活动的链接

##### **5 :focus(获取焦点)**

选择获取焦点的输入字段

#### **结构化**

##### **1 :not(否定用来选择不符合选择器的)**

##### **2 :first-child(匹配的第一个子元素)**

##### **3 : last-child(最后一个子元素)**

##### **4 first-of-type(匹配属于其父元素的首个特定类型的子元素的每个元素)**

第一个li文本变色

```js

ul :first-of-type {
    color: orange;
}
```

##### **5.last-of-type**(匹配元素的最后一个子元素。)

如下例，最后一个<li>元素的文本会变为橙色。

```css
ul :last-of-type {
    color: orange;
}
```

##### **6 :nth-child**(匹配一个元素)

nth-child根据元素的位置匹配一个或者多个元素，它接受一个an+b形式的参数，an+b匹配到的元素示例如下：

- 1n+0，或n，匹配每一个子元素。
- 2n+0，或2n，匹配位置为2、4、6、8…的子元素，该表达式与关键字even等价。
- 2n+1匹配位置为1、3、5、7…的子元素、该表达式与关键字odd等价。
- 3n+4匹配位置为4、7、10、13…的子元素。

##### **7 :nth-last-child**(和上相似,只不过向上)

:nth-last-child与:nth-child相似，不同之处在于它是从最后一个子元素开始计数的。

##### **8 :nth-of-type**(特定标签同上)

:nth-of-type与nth-child相似，不同之处在于它是只匹配特定类型的元素。

```css

p:nth-of-type(2) {
    color: orange;
}
```

##### **9 :nth-last-type**(特定标签倒数)

:nth-last-of-type与nth-of-type相似，不同之处在于它是从最后一个子元素开始计数的。

##### **10 :only-child**(唯一元素)

当元素是其父元素中唯一一个子元素时，:only-child匹配该元素。

##### **11 :only-of-type(唯一特定元素)**

当元素是其父元素中唯一一个特定类型的子元素时，:only-child匹配该元素。

如下例，第一个ul元素只有一个li类型的元素，该li元素的文本会变为橙色。

```js
li:only-of-type {
    color: orange;
}
```

##### **12 :target**(锚元素)

当URL带有锚名称，指向文档内某个具体的元素时，:target匹配该元素。

如下例，url中的target命中id值为target的article元素，article元素的背景会变为黄色。

#### **表单相关**

##### **1 :checked(input选定)**

checked匹配被选中的input元素，这个input元素包括radio和checkbox。

如下例，当复选框被选中时，与其相邻的<label>元素的背景会变成黄色。

##### **2 :default(默认选定)**

:default匹配默认选中的元素，例如：提交按钮总是表单的默认按钮。

##### **3 :disabled(禁用)**

:disabled匹配禁用的表单元素。

##### **4 :empty(空元素)**

empty匹配没有子元素的元素。如果元素中含有文本节点、HTML元素或者一个空格，则:empty不能匹配这个元素。

如下例，:empty能匹配的元素会变为黄色。

第一个元素中有文本节点，所以其背景不会变成黄色；

第二个元素中有一个空格，有空格则该元素不为空，所以其背景不会变成黄色；

第三个元素中没有任何内容，所以其背景会变成黄色；

第四个元素中只有一个注释，此时该元素是空的，所以其背景会变成黄色；

##### **5 :enabled(没设置disabled的)**

:enabled匹配没有设置disabled属性的表单元素。

##### **6 :in-range(在指定数字区域的)**

:in-range匹配在指定区域内元素。

如下例，当数字选择器的数字在5到10是，数字选择器的边框会设为绿色。

```js
input[type=number] {
    border: 5px solid orange;
}
 
input[type=number]:in-range {
    border: 5px solid green;
}
```

##### **7 :out-of-range**(在指定区域之外的)

:out-of-range与:in-range相反，它匹配不在指定区域内的元素。

##### **8 :indeterminate(不确定,为选择)**

indeterminate的英文意思是“不确定的”。当某组中的单选框或复选框还没有选取状态时，:indeterminate匹配该组中所有的单选框或复选框。

##### **9 :valid(匹配正确的)**

:valid匹配条件验证正确的表单元素。

##### **10 :invalid(匹配错误的)**

:invalid与:valid相反，匹配条件验证错误的表单元素。

##### **11 :optional(具有optional的)**

:optional匹配是具有optional属性的表单元素。当表单元素没有设置为required时，即为optional属性。

如下例，第一个input的背景不会被设为黄色，第二个input的背景会被设为黄色

##### **12 :required(具有required的)**

:required与:optional相反匹配设置了required属性的表单元素。

##### **13 :read-only(只读)**

:read-only匹配设置了只读属性的元素，表单元素可以通过设置“readonly”属性来定义元素只读。

##### **14 :read-write(编辑状态)**

read-write匹配处于编辑状态的元素。input，textarea和设置了contenteditable的HTML元素获取焦点时即处于编辑状态。 

##### **15 :scope(处于试验阶段)**

:scope匹配处于style作用域下的元素。当style没有设置scope属性时，style内的样式会对整个html起作用。

如下例，第二个section中的元素的文本会变为斜体。

#### **语言相关**

##### **1 :dir(处于实验阶段)**

:dir匹配指定阅读方向的元素，当HTML元素中设置了dir属性时该伪类才能生效。现时支持的阅读方向有两种：ltr（从左往右）和rtl（从右往左）。目前，只有火狐浏览器支持:dir伪类，并在火狐浏览器中使用时需要添加前缀( -moz-dir() )。

##### **2 :lang(指定语言)**

:lang匹配设置了特定语言的元素，设置特定语言可以通过为了HTML元素设置lang=””属性，设置meta元素的charset=””属性，或者是在http头部上设置语言属性。

实际上，lang=””属性不只可以在html标签上设置，也可以在其他的元素上设置。

#### **其他**

##### **1 :root**(根元素)

:root匹配文档的根元素。一般的html文件的根元素是html元素，而SVG或XML文件的根元素则可能是其他元素

##### **2.:fullscreen(全屏)**

:fullscreen匹配处于全屏模式下的元素。全屏模式不是通过按F11来打开的全屏模式，而是通过Javascript的Fullscreen API来打开的，不同的浏览器有不同的Fullscreen API。目前，:fullscreen需要添加前缀才能使用

## **伪元素**

### **1 ::before/:before**(备选元素前插入,不占文档流,只是在css渲染层出现)

:before在被选元素前插入内容。需要使用content属性来指定要插入的内容。被插入的内容实际上不在文档树中。



### **2 ::after/:after(备选元素后插入)**

:after在被元素后插入内容，其用法和特性与:before相似。

### **3 ::first-letter/:first-letter**(匹配元素中文本的首字母,不在文档流中)

### **4 ::first-line/:first-line**(匹配第一行文本,只能用在块级中,不能用在内联元素中)

### 5 ::selection(用户选中或者处于高亮状态)



### **6 ::placeholder**(placeholder匹配占位符的文本，只有元素设置了placeholder属性时，该伪元素才能生效)

### **7 ::backdrop(处于试验阶段)**

::backdrop用于改变全屏模式下的背景颜色，全屏模式的默认颜色为黑色。该伪元素只支持双冒号的形式





